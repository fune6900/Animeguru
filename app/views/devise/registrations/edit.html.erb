<% content_for(:title, t(".title")) %>

<section class="px-4 py-12 sm:px-6 lg:px-8">
  <h2 class="text-3xl sm:text-4xl font-bold text-center text-gray-800 mb-8">プロフィール編集</h2>

  <div class="max-w-screen-md w-full mx-auto bg-white shadow-lg rounded-2xl px-4 sm:px-8 py-8 sm:py-10">
    <!-- プロフィール画像 -->
    <div class="flex justify-center mb-8">
      <%= image_tag current_user.profile_image.url, alt: "プロフィール画像", class: "w-28 h-28 sm:w-32 sm:h-32 rounded-full shadow-md object-cover" %>
    </div>

    <%= form_with model: resource, url: registration_path(resource_name), method: :put, local: true do |f| %>
      <!-- エラーメッセージ -->
      <%= render "shared/error_messages", resource: resource %>

      <!-- プロフィール画像アップロード -->
      <div class="mb-6">
        <label class="block text-gray-700 font-semibold mb-1">プロフィール画像</label>
        <%= f.file_field :profile_image, class: "btn w-full p-2 border border-gray-300 rounded-md cursor-pointer shadow-sm" %>
      </div>

      <!-- ユーザー名 -->
      <div class="mb-6">
        <label class="block text-gray-700 font-semibold mb-1">ユーザー名 <span class="text-red-500">*</span></label>
        <%= f.text_field :username, class: "w-full p-3 border border-gray-300 rounded-md shadow-sm", placeholder: "ユーザー名を入力してください（2文字以上）" %>
      </div>

      <!-- メール -->
      <div class="mb-6">
        <label class="block text-gray-700 font-semibold mb-1">メールアドレス <span class="text-red-500">*</span></label>
        <%= f.email_field :email, class: "w-full p-3 border border-gray-300 rounded-md shadow-sm", placeholder: "メールアドレスを入力してください" %>
      </div>

      <!-- 自己紹介 -->
      <div class="mb-6">
        <label class="block text-gray-700 font-semibold mb-1">ひとこと</label>
        <%= f.text_area :introduction, rows: 4, class: "w-full p-3 border border-gray-300 rounded-md shadow-sm", placeholder: "好きなアニメや作品に対する熱い思いなど！" %>
      </div>

      <!-- 好きなアニメ作品 -->
      <div class="mb-6">
        <label class="block text-gray-700 font-semibold mb-1">好きなアニメ作品</label>
        <%= f.text_field :favorite_anime, class: "w-full p-3 border border-gray-300 rounded-md shadow-sm", placeholder: "例: ぼっち・ざ・ろっく！など" %>
      </div>

      <!-- ボタン -->
      <div class="flex flex-col items-center space-y-2 mt-8">
        <%= f.submit "更新", class: "btn bg-primary text-white py-2 px-6 shadow-md transition duration-200 w-full max-w-xs" %>
        <%= link_to "戻る", user_path(current_user), class: "btn bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg shadow-md transition duration-200 w-full max-w-xs" %>
      </div>
    <% end %>
  </div>
</section>
