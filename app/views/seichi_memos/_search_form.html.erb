<div class="flex justify-center px-4 sm:px-6 md:px-8 mt-6">
  <div class="w-full max-w-5xl space-y-4 p-6 bg-white/70 backdrop-blur-md rounded-lg shadow-lg" data-controller="auto-complete search-clear">
    <%= search_form_for @q, url: search_url, method: :get, data: { search_clear_target: "form" } do |f| %>

      <!-- 1æ®µç›®ï¼šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ï¼ˆå…¨å¹…ï¼‰ -->
      <div>
        <%= f.search_field :place_name_or_anime_title_cont,
              placeholder: "è–åœ°åãƒ»ä½œå“ã‚¿ã‚¤ãƒˆãƒ«",
              class: "w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition",
              data: {
                "auto-complete-target": "input",
                "search-clear-target": "input"
              } %>

        <!-- ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆçµæžœ -->
        <div data-auto-complete-target="results"
             class="absolute z-10 w-full bg-white mt-1 rounded-md shadow-lg border border-gray-200 max-h-60 overflow-y-auto">
        </div>
      </div>

      <!-- 2æ®µç›®ï¼šä¸¦ã³æ›¿ãˆ + ã‚¨ãƒªã‚¢ + ã‚¸ãƒ£ãƒ³ãƒ« -->
      <div class="grid grid-cols-3 gap-2 mt-2">
        <!-- ä¸¦ã³æ›¿ãˆ -->
        <div>
          <%= f.select :s,
                options_for_select([
                  ["æ–°ç€é †", "created_at desc"],
                  ["å¤ã„é †", "created_at asc"],
                  ["ã‚¿ã‚¤ãƒˆãƒ«æ˜‡é †", "title asc"],
                  ["ã‚¿ã‚¤ãƒˆãƒ«é™é †", "title desc"]
                ], selected: params.dig(:q, :s)),
                { include_blank: "ä¸¦ã³æ›¿ãˆ" },
                class: "text-xs w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition",
                data: { search_clear_target: "select" } %>
        </div>

        <!-- ã‚¨ãƒªã‚¢ -->
        <div>
          <%= f.select :place_address_cont,
                options_for_select(prefecture_options, selected: params.dig(:q, :place_address_cont)),
                { include_blank: "ã‚¨ãƒªã‚¢" },
                class: "text-xs w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition",
                data: { search_clear_target: "select" } %>
        </div>

        <!-- ã‚¸ãƒ£ãƒ³ãƒ« -->
        <div>
          <%= f.select :genre_tags_name_eq,
                options_for_select(GenreTag.all.map { |tag| [tag.name, tag.name] }, selected: params.dig(:q, :genre_tags_name_eq)),
                { include_blank: "ã‚¸ãƒ£ãƒ³ãƒ«" },
                class: "text-xs w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition",
                data: { search_clear_target: "select" } %>
        </div>
      </div>

      <!-- ðŸ”¹ 3æ®µç›®ï¼šæ¤œç´¢ãƒ»ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ -->
      <div class="flex space-x-2 mt-2 justify-center">
        <%= button_tag type: "submit", class: "btn bg-primary text-white py-2 px-4 shadow-md transition duration-200" do %>
          <i class="fa-solid fa-magnifying-glass mr-1"></i>æ¤œç´¢
        <% end %>
        <%= button_tag type: "button", id: "search-clear", class: "btn bg-primary text-white py-2 px-4 shadow-md transition duration-200", data: { action: "search-clear#clear" } do %>
          <i class="fa-solid fa-broom mr-1"></i>ã‚¯ãƒªã‚¢
        <% end %>
      </div>

    <% end %>
  </div>
</div>
